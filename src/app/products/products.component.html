<!-- title -->
<div class="page-head_agile_info_w3l">
  <div class="container">
    <h3>Products</h3>
    <div class="services-breadcrumb">
      <div class="agile_inner_breadcrumb">

        <ul class="w3_short">
          <li><a [routerLink]="['/']" (click)="origin();">Home</a><i>|</i></li>
          <li>Products</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- //title -->
<div class="banner-bootom-w3-agileits">
  <div class="container">
    <!-- 左欄 -->
    <div class="col-md-4 products-left">
      <div class="css-treeview">
        <h4>Categories</h4>
        <ul class="tree-list-pad">
          <li><input type="checkbox" checked="checked" id="item-0" (click)="origin();" /><label for="item-0"><i class="fa fa-long-arrow-right"
                aria-hidden="true"></i> 所有商品</label>
            <ul>
              <li><input type="checkbox" id="item-0-0" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '文學叢書'})" /><label
                  for="item-0-0"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 文學叢書</label>
                <ul>
                  <li><a (click)="search({name: '', author_name: '', publisher: '', isbn: '',classification: '文學叢書'})">靈異奇幻</a></li>
                  <li><a (click)="search({name: '', author_name: '', publisher: '', isbn: '',classification: '文學叢書'})">心理勵志</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '文學叢書'})">醫療保健</a></li>
                </ul>
              </li>
              <li><input type="checkbox" id="item-0-1" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '考試用書'})" /><label
                  for="item-0-1"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 考試用書</label>
                <ul>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '考試用書'})">小學</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '考試用書'})">國中</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '考試用書'})">高中</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '考試用書'})">大學</a></li>
                </ul>
              </li>
              <li><input type="checkbox" id="item-0-2" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '童書繪本'})" /><label
                  for="item-0-2"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 童書繪本</label>
                <ul>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '童書繪本'})">學齡前</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '童書繪本'})">學齡</a></li>
                </ul>
              </li>
              <li><input type="checkbox" id="item-0-3" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '語言學習'})" /><label
                  for="item-0-3"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 語言學習</label>
                <ul>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '語言學習'})">英文</a></li>
                  <li><a (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '語言學習'})">日文</a></li>
                </ul>
              </li>
              <li><input type="checkbox" id="item-0-4" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '漫畫'})" /><label
                  for="item-0-4"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 漫畫</label>

              </li>
              <li><input type="checkbox" id="item-0-5" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '小說'})" /><label
                  for="item-0-5"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 小說</label>

              </li>
              <li><input type="checkbox" id="item-0-6" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '雜誌'})" /><label
                  for="item-0-6"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 雜誌</label>

              </li>
              <li><input type="checkbox" id="item-0-7" (click)="search({name: '',author_name: '',publisher: '',isbn: '',classification: '文具'})" /><label
                  for="item-0-7"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> 文具</label>

              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="community-poll">
        <h4>Search</h4>
        <div>

          <table class="keyword_list">
            <tr>
              <th>書名</th>
              <td><input type="text" placeholder="請輸入書名" [(ngModel)]="keyword_list.name"></td>
            </tr>
            <tr>
              <th>作者</th>
              <td><input type="text" placeholder="請輸入作者" [(ngModel)]="keyword_list.author_name"></td>
            </tr>
            <tr>
              <th>出版社</th>
              <td><input type="text" placeholder="請輸入出版社" [(ngModel)]="keyword_list.publisher"></td>
            </tr>
            <tr>
              <th>ISBN</th>
              <td><input type="text" placeholder="請輸入ISBN" [(ngModel)]="keyword_list.isbn"></td>
            </tr>
            <tr>
              <th>類別</th>
              <td><select [(ngModel)]="keyword_list.classification">
                  <option value="">請選擇類別</option>
                  <option value="文學叢書">文學叢書</option>
                  <option value="童書繪本">童書繪本</option>
                  <option value="語言學習">語言學習</option>
                  <option value="考試用書">考試用書</option>
                </select></td>
            </tr>
          </table>
          <div style="padding: 5px 0px 20px 0px; text-align: center">
            <input type="button" class="function_button" value="搜尋商品" (click)="search(keyword_list)">
          </div>

        </div>
      </div>
      <div class="clearfix"></div>
    </div>
    <!-- //左欄 -->
    <div class="col-md-8 products-right">
      <!-- 右上區塊 -->
      <h5>商品 <span>列表（共{{ data.meta.total }}項）</span></h5>
      <div style="padding-top: 5%;">
        <p *ngIf="show_list.classification !== '';">類別：{{show_list.classification}} </p>
        <p *ngIf="show_list.name !== '';">書名：{{show_list.name}} </p>
        <p *ngIf="show_list.author_name !== '';">作者：{{show_list.author_name}} </p>
        <p *ngIf="show_list.publisher !== '';">出版社：{{show_list.publisher}} </p>
        <p *ngIf="show_list.isbn !== '';">isbn：{{show_list.isbn}} </p>
      </div>
      <div class="sort-grid">
        <div class="sorting">
          <h6>Sort By</h6>
          <select id="country1" [(ngModel)]="choice" (change)=" page=1;" class="frm-field required sect">
            <option value="0">請選擇排序方式</option>
            <option value="1">價格：由高到低</option>
            <option value="2">價格：由低到高</option>
          </select>
          <div class="clearfix"></div>
        </div>
        <div class="sorting">
          <h6>Showing</h6>
          <select id="amount" [(ngModel)]="amount" (change)="ngOnInit()">
            <option value="3">3</option>
            <option value="6">6</option>
            <option value="9">9</option>
            <option value="12">12</option>
          </select>
        </div>
        <div class="clearfix"></div>
      </div>
      <!-- //右上區塊 -->
      <!-- 商品列表 -->
      <ng-container *ngFor="let item of data.data;let index=index;let last=last;">
        <div class="col-md-4 product-men" *ngIf="1">

          <div class="men-pro-item simpleCart_shelfItem">
            <div class="men-thumb-item">
              <img [src]="" alt="" class="pro-image-front">
              <img [src]="" alt="" class="pro-image-back">
              <div class="men-cart-pro">
                <div class="inner-men-cart-pro">
                  <a [routerLink]="['/products/', item.id]" class="link-product-add-cart">商品資訊</a>
                </div>
              </div>
              <span class="product-new-top" *ngIf="item.publish_year === year">New</span>

            </div>
            <div class="item-info-product ">
              <h4><a [routerLink]="['/products/', item.id]">{{ item.title }}</a></h4>
              <div class="info-product-price">
                <span class="item_price">${{ item.sale_price}}</span>
                <del>${{ item.list_price}}</del>
              </div>
              <div>
                <input type="button" class="function_button" value="加入購物車" (click)="add_to_cart(item.id, 1, item.stock)">
              </div>

            </div>
          </div>

        </div>
      </ng-container>
      <!-- //商品列表 -->
      <div class="clearfix"></div>
      <!-- 選頁 -->
      <div style="text-align: center">
        <ul class="pagination pagination-lg">
          <li *ngIf="data.meta.current_page != data.meta.from"><a (click)="page = data.meta.from;ngOnInit();"><span aria-hidden="true">«</span></a></li>
          <li *ngIf="page > 1"><a (click)="page=page-1;ngOnInit();"><span aria-hidden="true"><</span></a></li>
          <li *ngIf="page > 2"><a (click)="page=page-2;ngOnInit();">{{page-2}}</a></li>
          <li *ngIf="page > 1"><a (click)="page=page-1;ngOnInit();">{{page-1}}</a></li>
          <li class="active"><a>{{page}}</a></li>
          <li *ngIf="data.meta.current_page < data.meta.last_page"><a (click)="page=page+1;ngOnInit();">{{page+1}}</a></li>
          <li *ngIf="data.meta.current_page - data.meta.current_page > 1"><a (click)="page=page+2;ngOnInit();">{{page+2}}</a></li>

          <li *ngIf="data.meta.current_page < data.meta.last_page"><a (click)="page=page+1;ngOnInit();">></a></li>
          <li *ngIf="data.meta.current_page != data.meta.last_page"><a (click)="page=data.meta.last_page;ngOnInit();"
              aria-label="Next"><span aria-hidden="true">»</span></a></li>
        </ul>
      </div>
      <!-- //選頁 -->
    </div>
    <div class="clearfix"></div>
